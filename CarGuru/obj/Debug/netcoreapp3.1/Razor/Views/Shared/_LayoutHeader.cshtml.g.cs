#pragma checksum "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "764422785287ab4a02ce8648ef17941aac46e6f7"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared__LayoutHeader), @"mvc.1.0.view", @"/Views/Shared/_LayoutHeader.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\_ViewImports.cshtml"
using CarGuru;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\_ViewImports.cshtml"
using CarGuru.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
using CarGuru.Services.Interfaces;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"764422785287ab4a02ce8648ef17941aac46e6f7", @"/Views/Shared/_LayoutHeader.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"4e6a444c5013a2caa2b0f73ecf9ecf67a7be6ad3", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared__LayoutHeader : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
#nullable restore
#line 3 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
  
    var userName = _sessionManager.GetUsername();
    var ProfilePic = _sessionManager.GetProfilePicture();

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<style>
    .header {
        border-top-left-radius: 4px;
        border-top-right-radius: 4px;
        border-bottom-right-radius: 0;
        border-bottom-left-radius: 0;
        background-color: #ffffff;
        padding: 10px 10px;
        border-bottom: 1px solid #f4f4f4;
        color: #444444;
        font-size: 14px;
        height:60px;
    }

    .menu {
        max-height: 200px;
        margin: 0;
        padding: 0;
        list-style: none;
        overflow-x: hidden;
    }

    .custom-message .dropdown-toggle::after {
        display: none;
    }

    .notification-content {
        left: inherit;
        right: 0px;
        width: 300px;
        overflow: auto;
        height: 100%;
        min-height: 400px !important;
    }

.timeZ {
    float: right;
    max-width: 60px;
    font-size: 11px;
    font-weight: 400;
    opacity: .5;
    filter: alpha(opacity=70);
    text-align: right;
    /* margin: -10px 0; */
    margin-top: -15px;
    padding:");
            WriteLiteral(@" 5px;
}
</style>
<nav class=""main-header navbar navbar-expand backgroundGreen"">

    <!-- Left navbar links -->
    <ul class=""navbar-nav"">
        <li class=""nav-item"">
            <a class=""nav-link"" data-widget=""pushmenu"" href=""#"" role=""button""><i class=""fas fa-bars""></i></a>
        </li>
    </ul>
    <ul class=""navbar-nav ml-auto"" style=""        position: relative;
"">
        <li class=""nav-item custom-message"">
            <a href=""javascript:void()"" class=""nav-link dropdown-toggle"" data-toggle=""dropdown"" role=""button""");
            BeginWriteAttribute("onclick", " onclick=\"", 1764, "\"", 1822, 3);
            WriteAttributeValue("", 1774, "ReadNotifications(", 1774, 18, true);
#nullable restore
#line 66 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
WriteAttributeValue("", 1792, _sessionManager.GetUserId(), 1792, 28, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1820, ");", 1820, 2, true);
            EndWriteAttribute();
            WriteLiteral(@">
                <i class=""fa fa-envelope""></i>
                <span class=""label label-success notification-count""></span>
            </a>
            <ul class=""dropdown-menu notification-content"">
                <li class=""header text-center""> &nbsp; No New Notifications</li>
");
            WriteLiteral("            </ul>\r\n        </li>\r\n");
            WriteLiteral(@"        <li class=""nav-item"">
            <a class=""nav-link OpenChat"" data-widget=""control-sidebar"" data-slide=""true"" href=""#"" role=""button"">
                <i class=""far fa-comments"" style=""font-size:22px; font-weight:bold;""></i>
                <span class=""label label-success message-count""></span>
            </a>
        </li>
        <li class=""dropdown user user-menu"" style=""margin-top:8px;"">
            <a href=""#"" class=""dropdown-toggle"" data-toggle=""dropdown"" aria-expanded=""false"" style=""color:#fff;"">
");
#nullable restore
#line 89 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                 if (ProfilePic != "")
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <img");
            BeginWriteAttribute("src", " src=\"", 3239, "\"", 3256, 1);
#nullable restore
#line 91 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
WriteAttributeValue("", 3245, ProfilePic, 3245, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"user-image\" alt=\"User Image\">\r\n");
#nullable restore
#line 92 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                }
                else
                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQI6CdHtq-xjvMwNj4TYhC7YmRX2056trL5L45aHyAwFeMJTDF3\" class=\"user-image\" alt=\"User Image\">\r\n");
#nullable restore
#line 96 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                }

#line default
#line hidden
#nullable disable
            WriteLiteral("            </a>\r\n            <ul class=\"loginProfile dropdown-menu\" style=\"left: inherit; right: 0px;\">\r\n                <!-- User image -->\r\n                <li class=\"user-header\">\r\n");
#nullable restore
#line 102 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                     if (ProfilePic != "")
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <img");
            BeginWriteAttribute("src", " src=\"", 3894, "\"", 3911, 1);
#nullable restore
#line 104 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
WriteAttributeValue("", 3900, ProfilePic, 3900, 11, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"user-image\" alt=\"User Image\">\r\n");
#nullable restore
#line 105 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                    }
                    else
                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQI6CdHtq-xjvMwNj4TYhC7YmRX2056trL5L45aHyAwFeMJTDF3\" class=\"user-image\" alt=\"User Image\">\r\n");
#nullable restore
#line 109 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    <p>");
#nullable restore
#line 110 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                  Write(userName);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</p>
                </li>
                <!-- Menu Body -->
                <li class=""user-body"">
                </li>
                <!-- Menu Footer-->
                <li class=""user-footer"">
                    <div class=""row"" style=""flex-wrap:inherit;"">
                        <div class="" col-md-6 pull-left"">
                            <a");
            BeginWriteAttribute("href", " href=\"", 4620, "\"", 4664, 1);
#nullable restore
#line 119 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
WriteAttributeValue("", 4627, Url.Action("Profile", "UserProfile"), 4627, 37, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"btn btn-default btn-flat\">Profile</a>\r\n                        </div>\r\n                        <div class=\" col-md-6 text-right\">\r\n                            <a");
            BeginWriteAttribute("href", " href=\"", 4834, "\"", 4871, 1);
#nullable restore
#line 122 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
WriteAttributeValue("", 4841, Url.Action("Logout", "Login"), 4841, 30, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" class=""btn btn-default btn-flat"">Sign out</a>
                        </div>
                    </div>
                </li>
            </ul>
        </li>
    </ul>
</nav>
<script>
    $(document).ready(function () {
        GetNotifications(");
#nullable restore
#line 132 "C:\Users\Zahid\source\repos\CarGuru\CarGuru\Views\Shared\_LayoutHeader.cshtml"
                    Write(_sessionManager.GetUserId());

#line default
#line hidden
#nullable disable
            WriteLiteral(@");
    });
    function GetNotifications(userId) {
        if (userId != null && userId > 0) {
            $.ajax({
                url: ""../Login/GetNotification"",
                type: 'Post',
                data: {
                    userId: userId
                },
                success: function (data) {
                    if (data.data.length != null && data.data.length > 0) {
                        var count = 0;
                        $("".notification-content"").empty();
                        for (var i = 0; i < data.data.length; i++) {
                            if (data.data[i].isRead == false) {
                                count++;
                            }
                            if (count != 0) {
                                $("".notification-count"").text(count);
                            }
                            else {
                                $("".notification-count"").text("""");
                            }
                           ");
            WriteLiteral(@" if(data.data[i].typeId == 2017)
                                $("".notification-content"").append('<li class=""header"" onclick=""OpenChat(' + data.data[i].notificationTo + ',' + data.data[i].notificationFrom + ',' + true + ')""><i class=""fa fa-comment""></i> &nbsp;' + data.data[i].message + '<span class=""timeZ"">' + moment(data.data[i].createdDate).format('DD MMMM hh:mm A') + '</span></li>');
                            else if (data.data[i].typeId == 2025)
                                $("".notification-content"").append('<li class=""header"" onclick=""OpenChat(' + data.data[i].notificationTo + ',' + data.data[i].notificationFrom + ',' + true + ')""><i class=""fas fa-file-invoice-dollar""></i> &nbsp;' + data.data[i].message + '<span class=""timeZ"">' + moment(data.data[i].createdDate).format('DD MMMM hh:mm A') + '</span></li>');
                            else
                                $("".notification-content"").append('<li class=""header"" onclick=""OpenChat('+data.data[i].notificationTo+','+data.data[i].notif");
            WriteLiteral(@"icationFrom+','+true+')""><i class=""fa fa-message""></i> &nbsp;' + data.data[i].message + '<span class=""timeZ"">'+moment(data.data[i].createdDate).format('DD MMMM hh:mm A')+'</span></li>');
                        }
                    }
                },
                error: function (request, error) {

                }
            });
        }
    }
    function OpenChat(userId, otherUserId,IsOpen) {
        $.ajax({
                url: ""../Conversation/GetRoleByUserId"",
                type: 'Post',
                data: {
                    userId: otherUserId
                },
             success: function (data) {
                 if (data > 0) {
                     if (IsOpen) {
                         $("".OpenChat"").click();
                     } else {
                         $("".new-arrived-messages"").click();
                     }
                     $(""#userType"").val(data);
                     SelectContactType(data);
                     //$(""#contact-user""");
            WriteLiteral(@").val(otherUserId);
                     setTimeout(function () {
                         $(""#contact-user"").val(otherUserId);
                         $(""#contact-user"").select2().trigger('change');
                     }, 1000);
                 }
                    },
                error: function (request, error) {

                }
            });
    }
    function ReadNotifications(userId) {
        if (userId != null && userId > 0) {
            $.ajax({
                url: ""../Login/ReadNotification"",
                type: 'Post',
                data: {
                    userId: userId
                },
                success: function (data) {
                    if(data === true) $("".notification-count"").text('');
                },
                error: function (request, error) {

                }
            });
        }
    }
</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public ISessionManager _sessionManager { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
